<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GSAP 功能展示 - 讓網頁動起來的魔法</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .demo-box {
            transition: all 0.3s ease;
        }
        .demo-box:hover {
            transform: scale(1.05);
        }
    </style>
</head>
<body class="bg-gray-50 font-sans">
    <!-- 導航欄 -->
    <nav class="bg-white shadow-lg fixed w-full top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center">
                    <h1 class="text-2xl font-bold text-gray-800">GSAP 魔法展示</h1>
                </div>
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-4">
                        <a href="#basic" class="text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium">基礎動畫</a>
                        <a href="#timeline" class="text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium">時間軸</a>
                        <a href="#scroll" class="text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium">滾動觸發</a>
                        <a href="#text" class="text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium">文字動畫</a>
                        <a href="#svg" class="text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium">SVG 動畫</a>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- 主要內容 -->
    <main class="pt-16">
        <!-- Hero Section -->
        <section class="gradient-bg text-white py-20">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
                <h1 class="hero-title text-5xl md:text-6xl font-bold mb-6 opacity-0">
                    GSAP 功能展示
                </h1>
                <p class="hero-subtitle text-xl md:text-2xl mb-8 opacity-0">
                    探索 GreenSock 動畫平台的強大功能
                </p>
                <div class="hero-boxes flex justify-center space-x-4 mb-8">
                    <div class="w-16 h-16 bg-white rounded-lg shadow-lg transform scale-0"></div>
                    <div class="w-16 h-16 bg-yellow-400 rounded-lg shadow-lg transform scale-0"></div>
                    <div class="w-16 h-16 bg-pink-400 rounded-lg shadow-lg transform scale-0"></div>
                    <div class="w-16 h-16 bg-green-400 rounded-lg shadow-lg transform scale-0"></div>
                </div>
                <button class="hero-btn bg-white text-blue-600 px-8 py-3 rounded-full font-semibold hover:bg-gray-100 transition-colors opacity-0">
                    開始探索
                </button>
            </div>
        </section>

        <!-- 基礎動畫展示 -->
        <section id="basic" class="py-20 bg-white">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-16">
                    <h2 class="text-4xl font-bold text-gray-800 mb-4">基礎動畫方法</h2>
                    <p class="text-xl text-gray-600">掌握 GSAP 的四大核心方法</p>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                    <!-- gsap.to() 展示 -->
                    <div class="demo-box bg-gradient-to-br from-blue-400 to-blue-600 p-6 rounded-lg shadow-lg text-white text-center">
                        <h3 class="text-xl font-semibold mb-4">gsap.to()</h3>
                        <div class="to-demo w-16 h-16 bg-white rounded-lg mx-auto mb-4"></div>
                        <p class="text-sm mb-4">動畫到指定狀態</p>
                        <button class="to-btn bg-white text-blue-600 px-4 py-2 rounded-md font-medium hover:bg-gray-100">
                            執行動畫
                        </button>
                    </div>

                    <!-- gsap.from() 展示 -->
                    <div class="demo-box bg-gradient-to-br from-green-400 to-green-600 p-6 rounded-lg shadow-lg text-white text-center">
                        <h3 class="text-xl font-semibold mb-4">gsap.from()</h3>
                        <div class="from-demo w-16 h-16 bg-white rounded-lg mx-auto mb-4"></div>
                        <p class="text-sm mb-4">從指定狀態開始</p>
                        <button class="from-btn bg-white text-green-600 px-4 py-2 rounded-md font-medium hover:bg-gray-100">
                            執行動畫
                        </button>
                    </div>

                    <!-- gsap.fromTo() 展示 -->
                    <div class="demo-box bg-gradient-to-br from-purple-400 to-purple-600 p-6 rounded-lg shadow-lg text-white text-center">
                        <h3 class="text-xl font-semibold mb-4">gsap.fromTo()</h3>
                        <div class="fromto-demo w-16 h-16 bg-white rounded-lg mx-auto mb-4"></div>
                        <p class="text-sm mb-4">完全控制起終點</p>
                        <button class="fromto-btn bg-white text-purple-600 px-4 py-2 rounded-md font-medium hover:bg-gray-100">
                            執行動畫
                        </button>
                    </div>

                    <!-- gsap.set() 展示 -->
                    <div class="demo-box bg-gradient-to-br from-orange-400 to-orange-600 p-6 rounded-lg shadow-lg text-white text-center">
                        <h3 class="text-xl font-semibold mb-4">gsap.set()</h3>
                        <div class="set-demo w-16 h-16 bg-white rounded-lg mx-auto mb-4"></div>
                        <p class="text-sm mb-4">立即設定屬性</p>
                        <button class="set-btn bg-white text-orange-600 px-4 py-2 rounded-md font-medium hover:bg-gray-100">
                            執行設定
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Timeline 動畫展示 -->
        <section id="timeline" class="py-20 bg-gray-100">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-16">
                    <h2 class="text-4xl font-bold text-gray-800 mb-4">Timeline 時間軸控制</h2>
                    <p class="text-xl text-gray-600">創建複雜的動畫序列</p>
                </div>
                
                <div class="bg-white rounded-lg shadow-lg p-8">
                    <div class="flex flex-col md:flex-row items-center justify-between mb-8">
                        <div class="timeline-controls space-x-4 mb-4 md:mb-0">
                            <button class="timeline-play bg-blue-500 text-white px-6 py-2 rounded-md hover:bg-blue-600">
                                播放
                            </button>
                            <button class="timeline-pause bg-gray-500 text-white px-6 py-2 rounded-md hover:bg-gray-600">
                                暫停
                            </button>
                            <button class="timeline-reverse bg-red-500 text-white px-6 py-2 rounded-md hover:bg-red-600">
                                反向
                            </button>
                            <button class="timeline-restart bg-green-500 text-white px-6 py-2 rounded-md hover:bg-green-600">
                                重新開始
                            </button>
                        </div>
                        <div class="timeline-progress-container w-full md:w-64 bg-gray-200 rounded-full h-2">
                            <div class="timeline-progress bg-blue-500 h-2 rounded-full w-0"></div>
                        </div>
                    </div>
                    
                    <div class="timeline-demo flex flex-wrap justify-center items-center space-x-4 h-32">
                        <div class="timeline-box1 w-16 h-16 bg-red-500 rounded-lg"></div>
                        <div class="timeline-box2 w-16 h-16 bg-blue-500 rounded-lg"></div>
                        <div class="timeline-box3 w-16 h-16 bg-green-500 rounded-lg"></div>
                        <div class="timeline-box4 w-16 h-16 bg-yellow-500 rounded-lg"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ScrollTrigger 展示 -->
        <section id="scroll" class="py-20 bg-white">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-16">
                    <h2 class="text-4xl font-bold text-gray-800 mb-4">ScrollTrigger 滾動觸發</h2>
                    <p class="text-xl text-gray-600">滾動時觸發的精彩動畫</p>
                </div>
                
                <div class="space-y-32">
                    <!-- 滾動淡入效果 -->
                    <div class="scroll-fade-in opacity-0 transform translate-y-20">
                        <div class="bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg p-8 text-white text-center">
                            <h3 class="text-2xl font-bold mb-4">滾動淡入效果</h3>
                            <p class="text-lg">當你滾動到這裡時，我會優雅地淡入</p>
                        </div>
                    </div>

                    <!-- 滾動橫向移動 -->
                    <div class="scroll-slide-in transform -translate-x-full">
                        <div class="bg-gradient-to-r from-green-500 to-blue-500 rounded-lg p-8 text-white text-center">
                            <h3 class="text-2xl font-bold mb-4">橫向滑入效果</h3>
                            <p class="text-lg">我會從左側滑進來</p>
                        </div>
                    </div>

                    <!-- 滾動縮放效果 -->
                    <div class="scroll-scale transform scale-50 opacity-0">
                        <div class="bg-gradient-to-r from-pink-500 to-red-500 rounded-lg p-8 text-white text-center">
                            <h3 class="text-2xl font-bold mb-4">縮放效果</h3>
                            <p class="text-lg">我會從小變大出現</p>
                        </div>
                    </div>

                    <!-- 滾動旋轉效果 -->
                    <div class="scroll-rotate transform rotate-45 opacity-0">
                        <div class="bg-gradient-to-r from-yellow-500 to-orange-500 rounded-lg p-8 text-white text-center">
                            <h3 class="text-2xl font-bold mb-4">旋轉效果</h3>
                            <p class="text-lg">我會旋轉著出現</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 文字動畫展示 -->
        <section id="text" class="py-20 bg-gray-100">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-16">
                    <h2 class="text-4xl font-bold text-gray-800 mb-4">文字動畫效果</h2>
                    <p class="text-xl text-gray-600">讓文字活起來的魔法</p>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <!-- 打字機效果 -->
                    <div class="bg-white rounded-lg shadow-lg p-8 text-center">
                        <h3 class="text-2xl font-bold mb-6 text-gray-800">打字機效果</h3>
                        <div class="typewriter-text text-lg text-gray-600 mb-6 h-16 flex items-center justify-center">
                            <span class="typewriter-content"></span>
                            <span class="typewriter-cursor">|</span>
                        </div>
                        <button class="typewriter-btn bg-blue-500 text-white px-6 py-2 rounded-md hover:bg-blue-600">
                            開始打字
                        </button>
                    </div>

                    <!-- 字符飛入效果 -->
                    <div class="bg-white rounded-lg shadow-lg p-8 text-center">
                        <h3 class="text-2xl font-bold mb-6 text-gray-800">字符動畫</h3>
                        <div class="char-animation text-2xl font-bold text-blue-600 mb-6 h-16 flex items-center justify-center">
                            <span class="char-text">GSAP 很棒！</span>
                        </div>
                        <button class="char-btn bg-green-500 text-white px-6 py-2 rounded-md hover:bg-green-600">
                            字符飛入
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- SVG 動畫展示 -->
        <section id="svg" class="py-20 bg-white">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-16">
                    <h2 class="text-4xl font-bold text-gray-800 mb-4">SVG 動畫展示</h2>
                    <p class="text-xl text-gray-600">向量圖形的動態魅力</p>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <!-- SVG 路徑動畫 -->
                    <div class="bg-gray-50 rounded-lg p-8 text-center">
                        <h3 class="text-xl font-bold mb-6 text-gray-800">路徑繪製動畫</h3>
                        <svg class="mx-auto mb-6" width="200" height="200" viewBox="0 0 200 200">
                            <path class="draw-path" d="M50 100 Q100 50 150 100 T250 100" stroke="#3B82F6" stroke-width="3" fill="none"/>
                        </svg>
                        <button class="draw-btn bg-blue-500 text-white px-6 py-2 rounded-md hover:bg-blue-600">
                            開始繪製
                        </button>
                    </div>

                    <!-- SVG 形狀動畫 -->
                    <div class="bg-gray-50 rounded-lg p-8 text-center">
                        <h3 class="text-xl font-bold mb-6 text-gray-800">形狀變換動畫</h3>
                        <svg class="mx-auto mb-6" width="200" height="200" viewBox="0 0 200 200">
                            <circle class="morph-shape" cx="100" cy="100" r="50" fill="#10B981"/>
                        </svg>
                        <button class="morph-btn bg-green-500 text-white px-6 py-2 rounded-md hover:bg-green-600">
                            變換形狀
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- 關於作者 -->
        <section class="py-20 bg-gray-800 text-white">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
                <h2 class="text-3xl font-bold mb-4">關於這個展示</h2>
                <p class="text-xl mb-8 max-w-3xl mx-auto">
                    這個展示網站由一位建築背景的開發者創建，希望透過實際的範例幫助大家理解 GSAP 的強大功能。
                    我們相信技術應該服務於人，讓每個人都能輕鬆創造美好的使用者體驗。
                </p>
                <div class="author-info opacity-0 transform translate-y-10">
                    <p class="text-lg">
                        💡 讓我們一起弭平數位落差，用技術傳播愛！
                    </p>
                </div>
            </div>
        </section>
    </main>

    <!-- 返回頂部按鈕 -->
    <button class="back-to-top fixed bottom-8 right-8 bg-blue-500 text-white p-3 rounded-full shadow-lg hover:bg-blue-600 transition-colors opacity-0 pointer-events-none">
        <svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18"/>
        </svg>
    </button>

    <script>
        // 註冊 ScrollTrigger 插件
        gsap.registerPlugin(ScrollTrigger);

        // 變數宣告
        let mainTimeline;
        let typewriterTimeline;

        // 初始化動畫
        function initAnimations() {
            // Hero Section 動畫
            const heroTl = gsap.timeline();
            heroTl.to('.hero-title', {duration: 1, opacity: 1, y: 0, ease: 'power2.out'})
                  .to('.hero-subtitle', {duration: 0.8, opacity: 1, y: 0, ease: 'power2.out'}, '-=0.5')
                  .to('.hero-boxes > div', {duration: 0.6, scale: 1, stagger: 0.1, ease: 'back.out(1.7)'}, '-=0.3')
                  .to('.hero-btn', {duration: 0.5, opacity: 1, y: 0, ease: 'power2.out'}, '-=0.2');

            // ScrollTrigger 動畫
            gsap.to('.scroll-fade-in', {
                scrollTrigger: '.scroll-fade-in',
                opacity: 1,
                y: 0,
                duration: 1,
                ease: 'power2.out'
            });

            gsap.to('.scroll-slide-in', {
                scrollTrigger: '.scroll-slide-in',
                x: 0,
                duration: 1,
                ease: 'power2.out'
            });

            gsap.to('.scroll-scale', {
                scrollTrigger: '.scroll-scale',
                scale: 1,
                opacity: 1,
                duration: 1,
                ease: 'back.out(1.7)'
            });

            gsap.to('.scroll-rotate', {
                scrollTrigger: '.scroll-rotate',
                rotation: 0,
                opacity: 1,
                duration: 1,
                ease: 'power2.out'
            });

            // 作者資訊動畫
            gsap.to('.author-info', {
                scrollTrigger: '.author-info',
                opacity: 1,
                y: 0,
                duration: 1,
                ease: 'power2.out'
            });

            // 返回頂部按鈕
            ScrollTrigger.create({
                start: 'top -200',
                end: 99999,
                toggleClass: {className: 'opacity-100 pointer-events-auto', targets: '.back-to-top'}
            });
        }

        // 基礎動畫示例
        function setupBasicAnimations() {
            // gsap.to() 示例
            document.querySelector('.to-btn').addEventListener('click', () => {
                gsap.to('.to-demo', {
                    duration: 1,
                    x: 50,
                    rotation: 360,
                    scale: 1.2,
                    ease: 'power2.out',
                    yoyo: true,
                    repeat: 1
                });
            });

            // gsap.from() 示例
            document.querySelector('.from-btn').addEventListener('click', () => {
                gsap.from('.from-demo', {
                    duration: 1,
                    x: -50,
                    opacity: 0,
                    scale: 0,
                    ease: 'bounce.out'
                });
            });

            // gsap.fromTo() 示例
            document.querySelector('.fromto-btn').addEventListener('click', () => {
                gsap.fromTo('.fromto-demo', 
                    {x: -50, opacity: 0, scale: 0},
                    {x: 50, opacity: 1, scale: 1.5, duration: 1, ease: 'elastic.out(1, 0.3)'}
                );
            });

            // gsap.set() 示例
            document.querySelector('.set-btn').addEventListener('click', () => {
                const colors = ['bg-red-400', 'bg-blue-400', 'bg-green-400', 'bg-yellow-400', 'bg-purple-400'];
                const randomColor = colors[Math.floor(Math.random() * colors.length)];
                
                // 移除所有顏色類別
                colors.forEach(color => {
                    document.querySelector('.set-demo').classList.remove(color);
                });
                
                // 立即設定新顏色
                gsap.set('.set-demo', {
                    className: `w-16 h-16 rounded-lg mx-auto mb-4 ${randomColor}`,
                    rotation: Math.random() * 360,
                    scale: 0.8 + Math.random() * 0.4
                });
            });
        }

        // Timeline 動畫控制
        function setupTimelineAnimations() {
            // 創建主時間軸
            mainTimeline = gsap.timeline({paused: true});
            mainTimeline.to('.timeline-box1', {duration: 1, x: 100, rotation: 360})
                       .to('.timeline-box2', {duration: 1, y: -50, scale: 1.5}, '-=0.5')
                       .to('.timeline-box3', {duration: 1, x: -100, rotation: -180}, '-=0.5')
                       .to('.timeline-box4', {duration: 1, y: 50, scale: 0.8}, '-=0.5');

            // 進度條動畫
            mainTimeline.to('.timeline-progress', {
                duration: mainTimeline.duration(),
                width: '100%',
                ease: 'none'
            }, 0);

            // 控制按鈕
            document.querySelector('.timeline-play').addEventListener('click', () => {
                mainTimeline.play();
            });

            document.querySelector('.timeline-pause').addEventListener('click', () => {
                mainTimeline.pause();
            });

            document.querySelector('.timeline-reverse').addEventListener('click', () => {
                mainTimeline.reverse();
            });

            document.querySelector('.timeline-restart').addEventListener('click', () => {
                mainTimeline.restart();
            });
        }

        // 文字動畫
        function setupTextAnimations() {
            // 打字機效果
            const texts = [
                "歡迎來到 GSAP 的世界！",
                "讓我們一起創造精彩的動畫！",
                "GSAP 讓網頁動起來！"
            ];
            let currentTextIndex = 0;

            document.querySelector('.typewriter-btn').addEventListener('click', () => {
                const text = texts[currentTextIndex];
                const container = document.querySelector('.typewriter-content');
                const cursor = document.querySelector('.typewriter-cursor');
                
                // 清空內容
                container.textContent = '';
                
                // 創建打字機動畫
                typewriterTimeline = gsap.timeline();
                
                // 打字動畫
                for (let i = 0; i <= text.length; i++) {
                    typewriterTimeline.to(container, {
                        duration: 0.05,
                        text: text.substring(0, i),
                        ease: 'none'
                    });
                }
                
                // 游標閃爍
                gsap.to(cursor, {
                    duration: 0.5,
                    opacity: 0,
                    repeat: -1,
                    yoyo: true,
                    ease: 'power2.inOut'
                });
                
                currentTextIndex = (currentTextIndex + 1) % texts.length;
            });

            // 字符動畫
            document.querySelector('.char-btn').addEventListener('click', () => {
                const text = document.querySelector('.char-text');
                const chars = text.textContent.split('');
                
                // 清空並重新建立字符
                text.innerHTML = '';
                chars.forEach(char => {
                    const span = document.createElement('span');
                    span.textContent = char === ' ' ? '\u00A0' : char;
                    span.style.display = 'inline-block';
                    text.appendChild(span);
                });
                
                // 字符飛入動畫
                gsap.from(text.children, {
                    duration: 0.8,
                    y: -50,
                    opacity: 0,
                    rotation: 360,
                    scale: 0,
                    stagger: 0.1,
                    ease: 'back.out(1.7)'
                });
            });
        }

        // SVG 動畫
        function setupSVGAnimations() {
            // 路徑繪製動畫
            const path = document.querySelector('.draw-path');
            const pathLength = path.getTotalLength();
            
            // 設定初始狀態
            gsap.set(path, {
                strokeDasharray: pathLength,
                strokeDashoffset: pathLength
            });

            document.querySelector('.draw-btn').addEventListener('click', () => {
                gsap.to(path, {
                    duration: 2,
                    strokeDashoffset: 0,
                    ease: 'power2.inOut'
                });
            });

            // 形狀變換動畫
            document.querySelector('.morph-btn').addEventListener('click', () => {
                const shape = document.querySelector('.morph-shape');
                const isCircle = shape.tagName === 'circle';
                
                if (isCircle) {
                    // 圓形變為矩形
                    gsap.to(shape, {
                        duration: 1,
                        attr: {
                            rx: 30,
                            ry: 30,
                            width: 100,
                            height: 100,
                            x: 50,
                            y: 50
                        },
                        ease: 'power2.inOut',
                        onComplete: () => {
                            shape.outerHTML = '<rect class="morph-shape" x="50" y="50" width="100" height="100" rx="30" ry="30" fill="#10B981"/>';
                        }
                    });
                } else {
                    // 矩形變為圓形
                    gsap.to(shape, {
                        duration: 1,
                        attr: {
                            rx: 50,
                            ry: 50
                        },
                        ease: 'power2.inOut',
                        onComplete: () => {
                            shape.outerHTML = '<circle class="morph-shape" cx="100" cy="100" r="50" fill="#10B981"/>';
                        }
                    });
                }
            });
        }

        // 平滑滾動
        function setupSmoothScroll() {
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        gsap.to(window, {
                            duration: 1,
                            scrollTo: target,
                            ease: 'power2.inOut'
                        });
                    }
                });
            });

            // 返回頂部
            document.querySelector('.back-to-top').addEventListener('click', () => {
                gsap.to(window, {
                    duration: 1,
                    scrollTo: 0,
                    ease: 'power2.inOut'
                });
            });
        }

        // 初始化所有功能
        document.addEventListener('DOMContentLoaded', () => {
            initAnimations();
            setupBasicAnimations();
            setupTimelineAnimations();
            setupTextAnimations();
            setupSVGAnimations();
            setupSmoothScroll();
        });
    </script>
</body>
</html>